#include<bits/stdc++.h>
using namespace std;
int main(int argc, char const *argv[])
{
 int V,E;
 //cout<<"Enter Number of Vertex and Edges : ";
 cin>>V>>E;
 vector<int>adj[V];
 for(int i=0;i<E;i++){
      //cout<<"Enter Adjecents of "<<i<<" : "<<endl;
      int u,v;
      cin>>u>>v;
      adj[u].push_back(v);
      adj[v].push_back(u);
 }
 for(int i=0;i<V;i++){
  cout<<i<<"--> ";
  for(auto it : adj[i])
     cout<<it<<" ";
     cout<<endl;
 }
 for(int j=0;j<V;j++){
 vector<int>dis(V,10000);
 queue<int>q;
 dis[j]=0;
 q.push(j);
 while(!q.empty()){
  int node = q.front();
  q.pop();
  for(auto val : adj[node]){
   if(dis[node]+1<dis[val]){
       dis[val]=dis[node]+1;
       q.push(val);
   }
  }
 }
 for(int i=0;i<V;i++){
  cout<<j<<"--->"<<i<<" = "<<dis[i]<<endl;
 }
 cout<<endl;}
 return 0;
}
/*
9
11
0 1
0 3
1 2
1 3
2 6
3 4
4 5
5 6
6 7
6 8
7 8
0--> 1 3
1--> 0 2 3
2--> 1 6
3--> 0 1 4
4--> 3 5
5--> 4 6
6--> 2 5 7 8
7--> 6 8
8--> 6 7
0--->0 = 0
0--->1 = 1
0--->2 = 2
0--->3 = 1
0--->4 = 2
0--->5 = 3
0--->6 = 3
0--->7 = 4
0--->8 = 4

1--->0 = 1
1--->1 = 0
1--->2 = 1
1--->3 = 1
1--->4 = 2
1--->5 = 3
1--->6 = 2
1--->7 = 3
1--->8 = 3

2--->0 = 2
2--->1 = 1
2--->2 = 0
2--->3 = 2
2--->4 = 3
2--->5 = 2
2--->6 = 1
2--->7 = 2
2--->8 = 2

3--->0 = 1
3--->1 = 1
3--->2 = 2
3--->3 = 0
3--->4 = 1
3--->5 = 2
3--->6 = 3
3--->7 = 4
3--->8 = 4

4--->0 = 2
4--->1 = 2
4--->2 = 3
4--->3 = 1
4--->4 = 0
4--->5 = 1
4--->6 = 2
4--->7 = 3
4--->8 = 3

5--->0 = 3
5--->1 = 3
5--->2 = 2
5--->3 = 2
5--->4 = 1
5--->5 = 0
5--->6 = 1
5--->7 = 2
5--->8 = 2

6--->0 = 3
6--->1 = 2
6--->2 = 1
6--->3 = 3
6--->4 = 2
6--->5 = 1
6--->6 = 0
6--->7 = 1
6--->8 = 1

7--->0 = 4
7--->1 = 3
7--->2 = 2
7--->3 = 4
7--->4 = 3
7--->5 = 2
7--->6 = 1
7--->7 = 0
7--->8 = 1

8--->0 = 4
8--->1 = 3
8--->2 = 2
8--->3 = 4
8--->4 = 3
8--->5 = 2
8--->6 = 1
8--->7 = 1
8--->8 = 0
*/
